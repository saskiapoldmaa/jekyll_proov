---
title: Trigger system
categories:
feature_text: |
  The History of the Alembic tool
---

The trigger system is built upon the TDAQ. Basically, you can assume that particles are fast but sparse enough so that there is usually only a single particle in the DUT at a given time. This means that if all of your detectors are measuring a signal at the same time, then it is likely due to the same particle. Also, how we can check if something happens at the same time is using an electrical signal (just like how coincidence works). In our case, we had two scintillators as the trigger. They were upstream of the DUT and as a particle passed them, they would flip a switch from "BUSY" to "NOT BUSY". The detectors downstream were
Not everything that a detector measures is actually a signal from the event we're interested in (like a muon passing a scintillator). One way to filter out the junk is with data analysis and this entails noting down all of the datapoints you were able to measure. Filtering out most of the unnecessary stuff is very eay sthough, so it would make more sense to get rid of it before the data is ever stored. The "getting rid of it" is done by a trigger system which in its core is just a relay logic. 
For example, a trigger system that I should've used instead of burdening the Arduino, is recording only voltage signals that exceed some threshold voltage. 
![Easy trigger](/assets/images/easy_trigger.png)
The discriminator works just like a comparator. The discriminator's output is used as a reference point for the start of the measurement. By the way, thanks to the magic of the delay component, the signal will have just reached the ADC.
Trigger systems can also become more complicated, for example if we take two previously explained systems and join the outputs of the two discriminators with an AND gate, we get ourselves a coincidence method: if the voltage is above a treshold at both detectors simultaneously, then we should start taking the rest of the measurements. 
There is a short yet not infinitesimal time frame in which the signal needs to pass through the detector and other components until it gets stored on the disk. On the image, this time frame is 1ms. We cannot have a new trigger go off during that same time, since the processing of the previous one has still not yet finished, so we need to ignore all incoming signal for that time period. This is done by a busy logic.
![Our trigger](/assets/images/my_trigger.png) 
A busy logic is actually quite intuitive: if your system says it's 'BUSY', then it's unaccepting of new signals. It is ready to move on once it goes into 'NOT BUSY' mode.
